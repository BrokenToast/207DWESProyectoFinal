
				<!DOCTYPE html>
				<html>
					<head>
						<meta charset="UTF-8">
						<meta name="viewport" content="width=device-width, initial-scale=1" />
						<link rel="stylesheet" href="pluginAssets/katex/katex.css"><script type="application/javascript" src="pluginAssets/mermaid/mermaid.min.js"></script><script type="application/javascript" src="pluginAssets/mermaid/mermaid_render.js"></script><link rel="stylesheet" href="pluginAssets/highlight.js/atom-one-light.css">
						<title>EstudioTema2</title>
					</head>
					<body>
						<div class="exported-note"><div class="exported-note-title">EstudioTema2</div>

<style>
		/* https://necolas.github.io/normalize.css/ */
		html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}
		article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}
		pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}
		b,strong{font-weight:bolder}small{font-size:80%}img{border-style:none}

		body {
			font-size: 15px;
			color: #32373F;
			word-wrap: break-word;
			line-height: 1.6em;
			background-color: #ffffff;
			font-family: 'Avenir', 'Arial', sans-serif;
			padding-bottom: 0px;
			padding-top: 0px;
		}
		kbd {
			border: 1px solid rgb(220, 220, 220);
			box-shadow: inset 0 -1px 0 rgb(220, 220, 220);
			padding: 2px 4px;
			border-radius: 3px;
			background-color: rgb(243, 243, 243);
		}
		::-webkit-scrollbar {
			width: 7px;
			height: 7px;
		}
		::-webkit-scrollbar-corner {
			background: none;
		}
		::-webkit-scrollbar-track {
			border: none;
		}
		::-webkit-scrollbar-thumb {
			background: rgba(100, 100, 100, 0.3); 
			border-radius: 5px;
		}
		::-webkit-scrollbar-track:hover {
			background: rgba(0, 0, 0, 0.1); 
		}
		::-webkit-scrollbar-thumb:hover {
			background: rgba(100, 100, 100, 0.7); 
		}

		

		/* Remove top padding and margin from first child so that top of rendered text is aligned to top of text editor text */

		#rendered-md > h1:first-child,
		#rendered-md > h2:first-child,
		#rendered-md > h3:first-child,
		#rendered-md > h4:first-child,
		#rendered-md > ul:first-child,
		#rendered-md > ol:first-child,
		#rendered-md > table:first-child,
		#rendered-md > blockquote:first-child,
		#rendered-md > img:first-child,
		#rendered-md > p:first-child {
			margin-top: 0;
			padding-top: 0;
		}
		
		p, h1, h2, h3, h4, h5, h6, ul, table {
			margin-top: .6em;
			margin-bottom: 1.35em;

			/*
				Adds support for RTL text in the note body. It automatically detects the direction using the content.
				Issue: https://github.com/laurent22/joplin/issues/3991
			*/
			unicode-bidi: plaintext;
		}

		h1, h2, h3, h4, h5, h6, ul, table {
			margin-bottom: 0.65em;
		}

		h1, h2, h3, h4, h5, h6 {
			line-height: 1.5em;
		}
		h1 {
			font-size: 1.5em;
			font-weight: bold;
			border-bottom: 1px solid #dddddd;
			padding-bottom: .3em;
		}
		h2 {
			font-size: 1.3em;
			font-weight: bold;
			padding-bottom: .1em; */
		}
		h3 {
			font-size: 1.1em;
			font-weight: bold;
		}
		h4, h5, h6 {
			font-size: 1em;
			font-weight: bold;
		}

		.exported-note-title {
			font-size: 2em;
			font-weight: bold;
			margin-bottom: 0.8em;
			line-height: 1.5em;
			padding-bottom: .35em;
			border-bottom: 1px solid #dddddd;
		}

		a {
			color: #155BDA;
		}
		ul, ol {
			padding-left: 0;
			margin-left: 1.7em;
		}
		li {
			margin-bottom: .4em;
		}
		li p {
			margin-top: 0.2em;
			margin-bottom: 0;
		}

		.resource-icon {
			display: inline-block;
			position: relative;
			top: 0.3em;
			text-decoration: none;
			width: 1.2em;
			height: 1.4em;
			margin-right: 0.4em;
			background-color:  #155BDA;
		}
    /* These icons are obtained from the wonderful ForkAwesome project by copying the src svgs 
     * into the css classes below.
     * svgs are obtained from https://github.com/ForkAwesome/Fork-Awesome/tree/master/src/icons/svg
     * instead of the svg width, height property you must use a viewbox here, 0 0 1536 1792 is typically the actual size of the icon
     * each line begins with the pre-amble -webkit-mask: url("data:image/svg+xml;utf8,
     * and of course finishes with ");
     * to precvent artifacts it is also necessary to include -webkit-mask-repeat: no-repeat;
     * on the following line
     * */
		.fa-joplin {
			/* Awesome Font file */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M373.834 128C168.227 128 0 296.223 0 501.834v788.336C0 1495.778 168.227 1664 373.834 1664h788.336c205.608 0 373.83-168.222 373.83-373.83V501.834C1536 296.224 1367.778 128 1162.17 128zm397.222 205.431h417.424a7.132 7.132 0 0 1 7.132 7.133v132.552c0 4.461-3.619 8.073-8.077 8.073h-57.23c-24.168 0-43.768 19.338-44.284 43.374v2.377h-.017v136.191h-.053l-.466 509.375c-5.02 77.667-39.222 149.056-96.324 201.046-60.28 54.834-141.948 85.017-229.962 85.017-12.45 0-25.208-.61-37.907-1.785-92.157-8.682-181.494-48.601-251.662-112.438-71.99-65.517-117.147-150.03-127.164-238-11.226-98.763 23.42-192.783 95.045-257.937 81.99-74.637 198.185-101.768 316.613-75.704 5.574 1.227 9.55 6.282 9.55 11.997v199.52c-.199 2.625-1.481 6.599-8.183 2.896-.663-.365-1.194-.511-1.653-.531-21.987-10.587-45.159-17.57-68.559-19.916-.38-.04-.757-.124-1.138-.163-.537-.048-1.034-.033-1.556-.075-4.13-.354-8.183-.517-12.203-.58-.87-.011-1.771-.127-2.641-.127-.486 0-.951.05-1.437.057-1.464.011-2.886.115-4.33.163-2.76.102-5.497.211-8.182.448-.273.024-.547.07-.835.097-25.509 2.4-47.864 11.104-65.012 25.47-.954.802-1.974 1.53-2.9 2.36a1.34 1.34 0 0 1-.168.146c-23.96 21.8-34.881 53.872-30.726 90.316 4.62 40.737 26.94 81.156 62.841 113.823 35.908 32.67 80.335 52.977 125.113 57.186 35.118 3.36 66.547-3.919 89.899-20.461a97.255 97.255 0 0 0 9.365-7.501c2.925-2.661 5.569-5.5 8.086-8.416.3-.348.672-.673.975-1.024 8.253-9.864 14.222-21.067 17.996-33.148.639-2.034 1.051-4.148 1.564-6.227.381-1.563.81-3.106 1.112-4.693.555-2.784.923-5.632 1.253-8.49.086-.709.183-1.414.237-2.128.492-4.893.693-9.858.55-14.91h.013V521.623c-2.01-22.626-20.78-40.434-43.928-40.434h-57.23a8.071 8.071 0 0 1-8.077-8.073V340.564a7.132 7.132 0 0 1 7.136-7.133z'/></svg>");
		}
		.fa-file-image {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-128-448v320H256v-192l192-192 128 128 384-384zm-832-192c-106 0-192-86-192-192s86-192 192-192 192 86 192 192-86 192-192 192z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-pdf {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-514-593c25 20 53 38 84 56 42-5 81-7 117-7 67 0 152 8 177 49 7 10 13 28 2 52-1 1-2 3-3 4v1c-3 18-18 38-71 38-64 0-161-29-245-73-139 15-285 46-392 83-103 176-182 262-242 262-10 0-19-2-28-7l-24-12c-3-1-4-3-6-5-5-5-9-16-6-36 10-46 64-123 188-188 8-5 18-2 23 6 1 1 2 3 2 4 31-51 67-116 107-197 45-90 80-178 104-262-32-109-42-221-24-287 7-25 22-40 42-40h22c15 0 27 5 35 15 12 14 15 36 9 68-1 3-2 6-4 8 1 3 1 5 1 8v30c-1 63-2 123-14 192 35 105 87 190 146 238zm-576 411c30-14 73-57 137-158-75 58-122 124-137 158zm398-920c-10 28-10 76-2 132 3-16 5-31 7-44 2-17 5-31 7-43 1-3 2-5 4-8-1-1-1-3-2-5-1-18-7-29-13-36 0 2-1 3-1 4zm-124 661c88-35 186-63 284-81-10-8-20-15-29-23-49-43-93-103-127-176-19 61-47 126-83 197-15 28-30 56-45 83zm646-16c-5-5-31-24-140-24 49 18 94 28 124 28 9 0 14 0 18-1 0-1-1-2-2-3z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-word {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM233 768v107h70l164 661h159l128-485c5-15 8-30 10-46 1-8 2-16 2-24h4l3 24c3 14 4 30 9 46l128 485h159l164-661h70V768h-300v107h90l-99 438c-4 16-6 33-7 46l-2 21h-4c0-6-2-14-3-21-3-13-5-30-9-46L825 768H711l-144 545c-4 16-5 33-8 46l-4 21h-4l-2-21c-1-13-3-30-7-46l-99-438h90V768H233z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-powerpoint {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-992-234v106h327v-106h-93v-167h137c43 0 82-2 118-15 90-31 146-124 146-233s-54-193-137-228c-38-15-84-19-130-19H416v107h92v555h-92zm353-280H650V882h120c35 0 62 6 83 18 36 21 56 62 56 115 0 56-20 99-62 120-21 10-47 15-78 15z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-excel {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-979-234v106h281v-106h-75l103-161c12-19 18-34 21-34h2c1 4 3 7 5 10 4 8 10 14 17 24l107 161h-76v106h291v-106h-68l-192-273 195-282h67V768H828v107h74l-103 159c-12 19-21 34-21 33h-2c-1-4-3-7-5-10-4-7-9-14-17-23L648 875h76V768H434v107h68l189 272-194 283h-68z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-audio {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM620 850c12 5 20 17 20 30v544c0 13-8 25-20 30-4 1-8 2-12 2-8 0-16-3-23-9l-166-167H288c-18 0-32-14-32-32v-192c0-18 14-32 32-32h131l166-167c10-9 23-12 35-7zm417 689c19 0 37-8 50-24 83-102 129-231 129-363s-46-261-129-363c-22-28-63-32-90-10-28 23-32 63-9 91 65 80 100 178 100 282s-35 202-100 282c-23 28-19 68 9 90 12 10 26 15 40 15zm-211-148c17 0 34-7 47-20 56-60 87-137 87-219s-31-159-87-219c-24-26-65-27-91-3-25 24-27 65-2 91 33 36 52 82 52 131s-19 95-52 131c-25 26-23 67 2 91 13 11 29 17 44 17z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-video {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM768 768c70 0 128 58 128 128v384c0 70-58 128-128 128H384c-70 0-128-58-128-128V896c0-70 58-128 128-128h384zm492 2c12 5 20 17 20 30v576c0 13-8 25-20 30-4 1-8 2-12 2-8 0-17-3-23-9l-265-266v-90l265-266c6-6 15-9 23-9 4 0 8 1 12 2z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-archive {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M640 384V256H512v128h128zm128 128V384H640v128h128zM640 640V512H512v128h128zm128 128V640H640v128h128zm700-388c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H768v128H640V128H128v1536h1280zM781 943c85 287 107 349 107 349 5 17 8 34 8 52 0 111-108 192-256 192s-256-81-256-192c0-18 3-35 8-52 0 0 21-62 120-396V768h128v128h79c29 0 54 19 62 47zm-141 465c71 0 128-29 128-64s-57-64-128-64-128 29-128 64 57 64 128 64z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-code {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM480 768c11-14 31-17 45-6l51 38c14 11 17 31 6 45l-182 243 182 243c11 14 8 34-6 45l-51 38c-14 11-34 8-45-6l-226-301c-8-11-8-27 0-38zm802 301c8 11 8 27 0 38l-226 301c-11 14-31 17-45 6l-51-38c-14-11-17-31-6-45l182-243-182-243c-11-14-8-34 6-45l51-38c14-11 34-8 45 6zm-620 461c-18-3-29-20-26-37l138-831c3-18 20-29 37-26l63 10c18 3 29 20 26 37l-138 831c-3 18-20 29-37 26z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-alt, .fa-file-csv {
      /* fork-awesome doesn't have csv so we use the text icon */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM384 800c0-18 14-32 32-32h704c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64zm736 224c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704zm0 256c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		blockquote {
			border-left: 4px solid rgb(220, 220, 220);
			padding-left: 1.2em;
			margin-left: 0;
			opacity: 0.7;
		}

		.jop-tinymce table,
		table {
			text-align: left;
			border-collapse: collapse;
			border: 1px solid rgb(220, 220, 220);
			background-color: #ffffff;
		}

		.jop-tinymce table td, .jop-tinymce table th,
		table td, th {
			text-align: left;
			padding: .5em 1em .5em 1em;
			font-size: 15;
			color: #32373F;
			font-family: 'Avenir', 'Arial', sans-serif;
		}

		.jop-tinymce table td,
		table td {
			border: 1px solid rgb(220, 220, 220);
		}

		.jop-tinymce table th,
		table th {
			border: 1px solid rgb(220, 220, 220);
			border-bottom: 2px solid rgb(220, 220, 220);
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:nth-child(even),
		table tr:nth-child(even) {
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:hover,
		table tr:hover {
			background-color: #e5e5e5;
		}

		hr {
			border: none;
			border-bottom: 2px solid #dddddd;
		}
		img {
			max-width: 100%;
			height: auto;
		}
		
		.inline-code,
		.mce-content-body code {
			border: 1px solid rgb(220, 220, 220);
			background-color: rgb(243, 243, 243);
			padding-right: .2em;
			padding-left: .2em;
			border-radius: .25em;
			color: rgb(0,0,0);
			font-size: .9em;
		}

		.highlighted-keyword {
			background-color: #F3B717;
			color: black;
		}

		.not-loaded-resource img {
			width: 1.15em;
			height: 1.15em;
			background: white;
			padding: 2px !important;
			border-radius: 2px;
			box-shadow: 0 1px 3px #000000aa;
		}

		a.not-loaded-resource img {
			margin-right: .2em;
		}

		a.not-loaded-resource {
			display: flex;
			flex-direction: row;
			align-items: center;
		}

		.md-checkbox input[type=checkbox]:checked {
			opacity: 0.7;
		}

		.jop-tinymce ul.joplin-checklist .checked,
		.md-checkbox .checkbox-label-checked {
			opacity: 0.5;
		}

		.exported-note {
			padding: 1em;
		}

		.joplin-editable .joplin-source {
			display: none;
		}

		mark {
			background: #F7D26E;
			color: black;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		.mce-content-body {
			/* Note: we give a bit more padding at the bottom, to allow scrolling past the end of the document */
			padding: 5px 10px 10em 0;
		}

		/*
		.mce-content-body code {
			background-color: transparent;
		}
		*/

		.mce-content-body [data-mce-selected=inline-boundary] {
			background-color: transparent;
		}

		.mce-content-body .joplin-editable {
			cursor: pointer !important;
		}

		.mce-content-body.mce-content-readonly {
			opacity: 0.5;
		}

		/* We need that to make sure click events have the A has a target */
		.katex a span {
			pointer-events: none;
		}

		.media-player {
			width: 100%;
			margin-top: 10px;
		}

		.media-player.media-pdf {
			min-height: 35rem;
			width: 100%;
			max-width: 1000px;
			margin: 0;
			border: 0;
			display: block;
		}

		/* Clear the CODE style if the element is within a joplin-editable block */
		.mce-content-body .joplin-editable code {
			border: none;
			background: none;
			padding: 0;
			color: inherit;
			font-size: inherit;
		}

		/* To make code blocks horizontally scrollable */
		/* https://github.com/laurent22/joplin/issues/5740 */
		pre.hljs {
			overflow-x: auto;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		@media print {
			body {
				height: auto !important;
			}

			pre {
				white-space: pre-wrap;
			}

			.code, .inline-code {
				border: 1px solid #CBCBCB;
			}

			#joplin-container-content {
				/* The height of the content is set dynamically by JavaScript (in updateBodyHeight) to go
				   around various issues related to scrolling. However when printing we don't want this
				   fixed size as that would crop the content. So we set it to auto here. "important" is
				   needed to override the style set by JavaScript at the element-level. */
				height: auto !important;
			}
		}
	

				/*
					FOR THE MARKDOWN EDITOR
				*/

				/* Remove the indentation from the checkboxes at the root of the document
				   (otherwise they are too far right), but keep it for their children to allow
				   nested lists. Make sure this value matches the UL margin. */

				li.md-checkbox {
					list-style-type: none;
				}

				li.md-checkbox input[type=checkbox] {
					margin-left: -1.71em;
					margin-right: 0.7em;
				}
				
				ul.joplin-checklist {
					list-style:none;
				}

				/*
					FOR THE RICH TEXT EDITOR
				*/

				ul.joplin-checklist li::before {
					content:"\f14a";
					font-family:"Font Awesome 5 Free";
					background-size: 16px 16px;
					pointer-events: all;
					cursor: pointer;
					width: 1em;
					height: 1em;
					margin-left: -1.3em;
					position: absolute;
					color: #32373F;
				}

				.joplin-checklist li:not(.checked)::before {
					content:"\f0c8";
				}

				.fountain {
					font-family: monospace;
					line-height: 107%;
					max-width: 1000px;
					margin-left: auto;
					margin-right: auto;
				}

				.fountain .title-page,
				.fountain .page { 
					box-shadow: 0 0 5px rgba(0,0,0,0.1);
					border: 1px solid #d2d2d2;
					padding: 10%;
					margin-bottom: 2em;
				}

				.fountain h1,
				.fountain h2,
				.fountain h3,
				.fountain h4,
				.fountain p {
					font-weight: normal;
					line-height: 107%;
					margin: 1em 0;
					border: none;
					font-size: 1em;
				}

				.fountain .bold {
					font-weight: bold;
				}

				.fountain .underline {
					text-decoration: underline;
				}

				.fountain .centered {
					text-align: center;
				}

				.fountain h2 {
					text-align: right;
				}

				.fountain .dialogue p.parenthetical {
					margin-left: 11%;
				}

				.fountain .title-page .credit,
				.fountain .title-page .authors,
				.fountain .title-page .source {
					text-align: center;
				}

				.fountain .title-page h1 {
					margin-bottom: 1.5em;
					text-align: center;
				}

				.fountain .title-page .source {
					margin-top: 1.5em;
				}

				.fountain .title-page .notes {
					text-align: right;
					margin: 3em 0;
				}

				.fountain .title-page h1 {
					margin-bottom: 1.5em;
					text-align: center;
				}

				.fountain .dialogue {
					margin-left: 3em;
					margin-right: 3em;
				}

				.fountain .dialogue p,
				.fountain .dialogue h1,
				.fountain .dialogue h2,
				.fountain .dialogue h3,
				.fountain .dialogue h4 {
					margin: 0;
				}

				.fountain .dialogue h1,
				.fountain .dialogue h2,
				.fountain .dialogue h3,
				.fountain .dialogue h4 {
					text-align: center;
				}
.mermaid { background-color: white; width: 640px; }</style><div id="rendered-md"><h1 id="lpa-wxed">LPA-WXED</h1>
<h2 id="especificaciones"><ins class="jop-noMdConv">Especificaciones:</ins></h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Sistema Operativo</td>
<td>Windows 10p Pro</td>
</tr>
<tr>
<td>Ram</td>
<td>4GB</td>
</tr>
<tr>
<td>Particiones</td>
<td>DISCO DE 500 GB DINÁMIC<br class="jop-noMdConv"/>TRES PARTICIONE<br class="jop-noMdConv"/>Sistema 100 GB<br class="jop-noMdConv"/>Datos 400GB</td>
</tr>
<tr>
<td>Nombre</td>
<td>LPA-WXED</td>
</tr>
<tr>
<td>Usuarios</td>
<td>Administrador/paso(Permisos de administrador)<br class="jop-noMdConv"/>miadmin/paso(Permisos de administrador)<br class="jop-noMdConv"/>alumno/paso</td>
</tr>
<tr>
<td>Configuración Red</td>
<td>IP:192.168.3.52/24<br class="jop-noMdConv"/>Mascara:255.255.255.0<br class="jop-noMdConv"/>Gatewat: 192.168.3.1<br class="jop-noMdConv"/>DNS:8.8.8.8<br class="jop-noMdConv"/>DNS Altenernativo: 8.8.7.7</td>
</tr>
</tbody>
</table>
<h3 id="nombre-procesador-cantidad-de-ram-versión-de-windows-y-grupo-de-trabajo">Nombre, Procesador, Cantidad de RAM, Versión de Windows y Grupo de trabajo:</h3>
<p><img src="../../../../_resources/65bad357c7024167a38a933ab8a03daa.png" alt="61543323dc8ad553069562b9ce00e6da.png"></p>
<h3 id="particiones">Particiones:</h3>
<p><img src="../../../../_resources/ac7239f0258346b8881db2fb1eabe23b.png" alt="4c47a7c1a50779b30ce568c1456be767.png"></p>
<h3 id="usuarios-y-grupos">Usuarios y grupos:</h3>
<p><img src="../../../../_resources/ed1a3dfe09324366b3b3d1fd48435b33.png" alt="8a2f5d6523e7e6a7086f0f54f491397a.png"> <img src="../../../../_resources/cf25b670c71f41069e56d59148aa82d3.png" alt="6aa442d16890f6eb1d48239f65b98966.png"><img src="../../../../_resources/b660ff2620364541b2414d6a557f9522.png" alt="911b39cb2eb0ba7e5d421793eaf5f6c8.png"></p>
<h3 id="configuración-de-red">Configuración de red:</h3>
<p><img src="../../../../_resources/7950ec5974824cd4b8ff04e69138a966.png" alt="ad97dfa91dd1889f39349b3170c36375.png"></p>
<hr>
<h2 id="netbeans"><ins class="jop-noMdConv">Netbeans</ins></h2>
<h3 id="preparativos-de-instalación">Preparativos de instalación:</h3>
<p>Antes de instalar Netbeans hay que instalar java. Instalaremos la versión actual LST(La actual es la 19).</p>
<p>1º Vamos a la <a data-from-md title='Descargar Java 19' href='https://educajcyl-my.sharepoint.com/:w:/g/personal/luis_perast_educa_jcyl_es/ES9g1BZ-TWVBvAZolfClLmkBrd2BeQvFn4TGZPNgAsU1oQ?e=XiATcq'>pagina de java</a> y descargamos el instalador</p>
<p><img src="../../../../_resources/73c82a1a74764d45b8cdfc34be1fc3dc.png" alt="01b94018dca1bbb3a4e8e972c18ec4eb.png"></p>
<p>2º Ejecutamos el instalardor de JDK 19 e indicamos que lo queremos instalar en el disco duro C:</p>
<p><img src="../../../../_resources/0a42921e13a84d6cabd2fe84ed80e074.png" alt="a2bcfe40d4386ae1fea29ea3f3d52248.png"></p>
<h3 id="instalación">Instalación:</h3>
<p>1º Descargamos de la <a data-from-md title='Descargar NetBeans' href='https://netbeans.apache.org/'>pagina de NetBeans</a>  la versión LTS actual, ejecutamos el instalador e instalamos el NetBeans en el disco duro C:( Indicamos donde se ubica el JDK que queremos usar).</p>
<p><img src="../../../../_resources/114a9da8fec14f63a43ddef86137164a.png" alt="c4f6cc185f6181817dc473cacfb97778.png"></p>
<p>2º Dejamos el verificar automáticamente las actualizaciones al inicial NetBeans. Luego después la damos a instalar</p>
<p><img src="../../../../_resources/8b9e16c6f93c4868994022adfa631656.png" alt="71e6220ef945f6edb95afc157cbbf285.png"></p>
<h3 id="configuración">Configuración:</h3>
<p><em><strong>Auto-completar código:</strong></em></p>
<p>Vamos a opciones de <code class="inline-code">NetBeans&gt;editor&gt;code completion</code>, seleccionamos HTML y marcamos que nos los autocompletar las aperturas de las etiquetas. Después aplicamos los cambios.</p>
<p><img src="../../../../_resources/6fa2987635884d979a0894450240855c.png" alt="9d0dd45169a1bd07f4b97f200e806b24.png"></p>
<p><em><strong>Xdebug:</strong></em></p>
<p>Vamos a <code class="inline-code">Tools&gt;Options&gt;PHP&gt;Debugging</code>, aqui se configura los parametros de la conexion con Xdebug:</p>
<p><img src="../../../../_resources/d83cf92d567941ef83b79bf926314d86.png" alt="738e1ad92166257c36849d246925d305.png"></p>
<p>Vamos a Dejarlo por defecto.</p>
<h3 id="plugins">Plugins:</h3>
<p><em><strong>Instalación:</strong></em></p>
<p>1º Vamos a la <a data-from-md title='Descargar Plugins' href='https://plugins.netbeans.apache.org/'>pagina oficial</a> de NetBenas, buscamos el plugin que nos interesa y le damos a la versión que tenemos de NetBeans.</p>
<p><img src="../../../../_resources/0aa5d393eccc4c5bbeedf5def5f769c8.png" alt="12d310fac77a3f2e91486250c9df25b7.png"></p>
<p>2º Vamos al NetBeans pulsamos en Tools&gt;plugins&gt;Downloaded, después le damos a Add plugins.</p>
<p><img src="../../../../_resources/116b91900f0941059c10900103502a2b.png" alt="12fecabb37c4255a71fc54d53ba5da97.png"></p>
<p>3º Después seleccionamos el archivo que hemos descargado de la pagina y le damos abrir</p>
<p><img src="../../../../_resources/695ae2cd526f4b71b82840d9f987c972.png" alt="70f3d59c051df6ba39fa2f905d4c963b.png"></p>
<p>4º Seleccionamos el plugin y le damos a instalar.</p>
<p><img src="../../../../_resources/4fe581e5a28b46b29fa875b0fd582eec.png" alt="86927b88a2e138487ec9a678e9d14da8.png"></p>
<p>5º Vamos al apartado de instalados y  comprobamos que el en el apartado active el plugin esta verde con un check.</p>
<p><img src="../../../../_resources/6b075aa38a924cb6b71e55aff928a7c3.png" alt="74e883041f30db292e089159db0b5862.png"></p>
<p>6º A disfrutar el plugin</p>
<h3 id="proyectos">Proyectos:</h3>
<p>Simpre vamos a intentar separar los metadatos de netbeans del proyecto.</p>
<p><em><strong>Proyecto en local:</strong></em></p>
<p>1º Le damos a <code class="inline-code">File&gt;New Project</code></p>
<p><img src="../../../../_resources/2913f0b34447443c8a697aab0d1e5abe.png" alt="e2c88de3e693049c8defc86f49077f50.png"></p>
<p>2º Como vamos a trabajar con PHP, creariemos un projecto PHP.</p>
<p>Le damos a <code class="inline-code">PHP&gt;PHP Application</code> y le damos a next.</p>
<p><img src="../../../../_resources/cb7c5d2166474e47b1fe677c69c61837.png" alt="68c56177a04d02257d92363c23e87fd6.png"></p>
<p>3º Ponemos el nombre del proyecto, en el PATH duplicamos a ultima carpeta /nombre/nombre(Esto lo hacemos para que en la primera este los metadatos y en la siguiente el proyecto), seleccionamos la versión de PHP,  y selecionamos <mark>Put NetBeans metadata into a separate directory</mark> en el apartado Metadata Folder ponemos la ruta hasta la primera carpeta.</p>
<p><img src="../../../../_resources/d777af755a7c4dffad785bdd6490025a.png" alt="f6ae8273d3b7125d17d3b8cac62a4cc1.png"></p>
<p>Luego le damos a next.</p>
<p>4º Ponemos la URL del archivo index(Recuerda la carpeta raiz es la primera carpeta).</p>
<p><img src="../../../../_resources/6867233796154efcb390494cc8bec0e3.png" alt="1a7ea2c094f3cf3bea3af6ebfe503748.png"></p>
<p>Luego le damos a next</p>
<p>5º En este apartado podemos Seleccionar un Framework, pero como no vamos a usar ninguno le damos a finish</p>
<p><img src="../../../../_resources/39e8cdc3865d4f72b55a287264b0c325.png" alt="9393ad581bcf751994d8a011a10fb096.png"></p>
<p>6º Comprobación de que se a creado correctamente.</p>
<p><img src="../../../../_resources/dd63fd9f3ac343e0a48cb52ecc0dc7ed.png" alt="8ead098388eddfcfdb4ca4ca27884074.png"><img src="../../../../_resources/0e2566b123d54199866f2b8c84cf6a8d.png" alt="7fcab54b7e596dcb616a2ecdddcf60d2.png"></p>
<p><em><strong>Crear un Projecto en Remoto:</strong></em></p>
<p>1º Le damos a <code class="inline-code">File&gt;New Project</code></p>
<p><img src="../../../../_resources/2913f0b34447443c8a697aab0d1e5abe.png" alt="e2c88de3e693049c8defc86f49077f50.png"></p>
<p>2º Como vamos a trabajar con PHP, creariemos un projecto PHP.</p>
<p>Le damos a <code class="inline-code">PHP&gt;PHP Application</code> y le damos a next.</p>
<p><img src="../../../../_resources/cb7c5d2166474e47b1fe677c69c61837.png" alt="68c56177a04d02257d92363c23e87fd6.png"></p>
<p>3º Ponemos el nombre del proyecto, en el PATH duplicamos a ultima carpeta /nombre/nombre(Esto lo hacemos para que en la primera este los metadatos y en la siguiente el proyecto), seleccionamos la versión de PHP,  y selecionamos <mark>Put NetBeans metadata into a separate directory</mark> en el apartado Metadata Folder ponemos la ruta hasta la primera carpeta.</p>
<p><img src="../../../../_resources/d777af755a7c4dffad785bdd6490025a.png" alt="f6ae8273d3b7125d17d3b8cac62a4cc1.png"></p>
<p>Luego le damos a next.</p>
<p>4º Vamos a crear La conexion remota para eso le damos a <mark>Manage</mark>.</p>
<p><img src="../../../../_resources/d3f20849ae34407785def60e95906e06.png" alt="db0032925682fb14ec1e9c1d18bacb60.png"></p>
<p>5º Nos saldra directamente Crear una nuevo conector. Le ponemos el nombre del conector y el typo(SFTP).</p>
<p><img src="../../../../_resources/94e74dc7c6c1462194044f33dd532781.png" alt="7cb366a07835f88a0c360800b9434abb.png"></p>
<p>6º Configuramos el conector:</p>
<ul>
<li>Host Name: Ip o dominio del servidor</li>
<li>User Name: Nombre del usuario con el que vamos a conectarnos</li>
<li>Password: Contraseña de usuario</li>
<li>Initial Directory: Directorio donde se van a subir los proyectos(Debe de ser propiedad del usuario)</li>
</ul>
<p><img src="../../../../_resources/6a2861aa7fa945a19c419dcf511d0e3d.png" alt="f7e8650da59e9d51a9ac899884720526.png"></p>
<p>Luego de damos a Test y si no da ningun error le damos a OK.</p>
<p>7º Le ponemos la URL(ip servidor) al Index. <mark>Upload Directory</mark> es donde va a subir el proyecto.</p>
<p><img src="../../../../_resources/feabc5cbc8d64ea09e18f5099d482fec.png" alt="b7ff0dc6d464f661b6ebd6d925208104.png"></p>
<p>8º En este apartado podemos Seleccionar un Framework, pero como no vamos a usar ninguno le damos a finish.</p>
<p><img src="../../../../_resources/39e8cdc3865d4f72b55a287264b0c325.png" alt="9393ad581bcf751994d8a011a10fb096.png"></p>
<p>9º Para que se cree en el servidor le damos en nuestro click derecho en Source Files de nuestro projecto y le damos a upload.</p>
<p><img src="../../../../_resources/440e10be2285424d9ce4945a4054f468.png" alt="c78cf6c95079c3adafe71cebe4e0db16.png"></p>
<p>10º Comprobaciones de que se a creado:</p>
<p><img src="../../../../_resources/dd63fd9f3ac343e0a48cb52ecc0dc7ed.png" alt="8ead098388eddfcfdb4ca4ca27884074.png"><img src="../../../../_resources/0e2566b123d54199866f2b8c84cf6a8d.png" alt="7fcab54b7e596dcb616a2ecdddcf60d2.png"><img src="../../../../_resources/d6e2981ce1524052944ea3066941dd1d.png" alt="5e4f51b7e67758c5326bb15c1355ed6a.png"></p>
<h3 id="debug">Debug:</h3>
<p><mark>Para Debugear PHP hay que configurar en el lado del servidor el Xdebug(Configuracion).</mark></p>
<p>1º Colocamos en el archivo un break point, para colocaro le damos al numero de la linea y se pondra un cuadrado rojo.</p>
<p><img src="../../../../_resources/acd71183b1f340bd974eeeedb4b96e82.png" alt="0a9c6d7e8a498cd84ce835e2d81c2ce0.png"></p>
<p>2º Para debugar nos posicionamos dentro del archivo y le damos a icono de Debug.</p>
<p><img src="../../../../_resources/27e4f1b89beb4e0f919eb3cc8d5c81c1.png" alt="258f4d40eecfeb3125a996979991ce4a.png"></p>
<p>3º Moverse por dentro del archivo:</p>
<ul>
<li><img src="../../../../_resources/2a984b518e624fcb83da61ac41388c22.png" alt="9a7ffbdae95106df4107d253b474757d.png">Parar el debug.</li>
<li><img src="../../../../_resources/480206d224d841f8a2e7065415166730.png" alt="19c77cd9fa6320738e162768dc8c7393.png"> Continuar con la ejecución.</li>
<li><img src="../../../../_resources/0aa8c101fa7848449570e7c63b18dffc.png" alt="d009ce6d311abb8c2ac3d0684df39491.png">Siguiente linea.</li>
<li><img src="../../../../_resources/a83c8256e2904d80b6c3391c3f83ff27.png" alt="1aefbc44a8659d664f0b15b336beb606.png">Entrar (Se usa para entrar en una función).</li>
<li><img src="../../../../_resources/0a9eb1f7b8014c28aa119e3d64c8d06f.png" alt="bba4151bfeda5e79a748fe2150aa56f2.png">Salir (Se usa para entrar en una función).</li>
</ul>
<p>Si dejamos el cursor encima de los iconos nos saldra los atajos de teclado.</p>
<p>4º Menu de Inspección e variables.</p>
<p><img src="../../../../_resources/9bf59960c2af4431ab893caf9c7a410b.png" alt="4d182ebef73fe6e7fdcc45a83212d8fc.png"></p>
<p>Nos muestra el nombre de la variables, el tipo de dato que contiene y el valor.</p>
<p>Si no nos sale la ventana de variables para abrirla vamos a <code class="inline-code">window&gt;debugging&gt;variables</code> o <code class="inline-code">Alt+Mayus+1</code>.</p>
<h3 id="conexion-a-base-de-datos">Conexion a Base de datos:</h3>
<p>Antes de conectarnos a la base de datos tenemos que descargar el driver para java y añadirlo a NetBeans:</p>
<p>1º Vamos a esta pagina que contiene todas las versiones del conector de Mysql <a data-from-md title='Enlace' href='https://mvnrepository.com/artifact/mysql/mysql-connector-java'>Enlace</a>, selecionamos la version y dentor de la version le damos a descargar el jar.</p>
<p><img src="../../../../_resources/d2009a274bc341669046ab73096bcfb4.png" alt="e41a3f33900402fd2a25b715e8660c1f.png"></p>
<p>2º Vamos a NetBeans al apartado <mark>services</mark>, le damos click derecho a <mark>Drivers</mark> y le damos a <mark>new Driver</mark></p>
<p><img src="../../../../_resources/c74709d32ff54eff9fe2393ba93e4bef.png" alt="5f11299d2d404eb3193ce953fd0df755.png"></p>
<p>3º Le damos a add y seleccionamos el driver.jar que hemos descargado, el resto de la informacion se pone automaticamente.</p>
<p><img src="../../../../_resources/68bebe048f094fa49f720f2fa6916dfc.png" alt="8dabee0776924e7d9c1d08726d6ef856.png"></p>
<p>Le damos a OK y se abra añadido.</p>
<p><em><strong>Creación de una conexión:</strong></em></p>
<p>1º Le damos click derecho encima de <mark>Database</mark> y le damos a <mark>New Connection</mark></p>
<p><mark><img src="../../../../_resources/0684e32b3932430f9e4f3757c09208d8.png" alt="4e8a17acab420d6d270a4502a5b7763d.png"></mark></p>
<p>2º Seleccionamos el driver de Mysql:</p>
<p><img src="../../../../_resources/10efb2682b894739976a6d645a3b85bf.png" alt="75c0433cac993e1e8cbec30eec505839.png"></p>
<p>3º Rellenamos los siguientes apartados:</p>
<ul>
<li><strong>Host</strong>: Ip o dominio del servidor(Obligatorio).</li>
<li><strong>Port</strong>: Puerto que usa la base de datos(Obligatorio).</li>
<li><strong>Database</strong>: La base de datos a la que nos vamos a conectar(Opcional).</li>
<li><strong>User Name</strong>: Usuario de la base de datos(Obligatorio).</li>
<li><strong>Password</strong>: Contraseña del usuario(Obligatorio).</li>
</ul>
<p><img src="../../../../_resources/63669e40ce7c4412a83b85a9f30f4b63.png" alt="5d9b196842850afdc517ee4f105ec7c6.png"></p>
<p>Luego le damos a <mark>Test Connection</mark> y si no da eeror le damos a finish.</p>
<p><em><strong>Ejecución de un Query:</strong></em></p>
<p>1º Le damos click derecho encima del conector y le damos a <mark>Execute Command</mark></p>
<p><img src="../../../../_resources/accb89c070bb4631833df17f567dd376.png" alt="6e2a8d5dcf1628931e15b73d84a0995e.png"></p>
<p>2º Dentro de documento SQL escribimos el quey.</p>
<p><img src="../../../../_resources/3f7e4752168846bb8d3eac6328716dcf.png" alt="9489804e166972bda5b00e0e16f1df7b.png"></p>
<p>3º Luego le damos a Run SQL(Ctrl+Mayus+E)<img src="../../../../_resources/84e6532de3bc4e3aa1bd5e7f692daaf6.png" alt="4da9bc6abbbbf5243e0cc208bfffc52d.png"> o si queremos ejecutar una cosa determina, seleccionamos la parte y luego click Derecho Run Selection.</p>
<p><img src="../../../../_resources/5928a7728cec4f2c93aeeac21cf620d2.png" alt="4cbe9248a29e0afb1239e5f89e759c9e.png"></p>
<p><img src="../../../../_resources/dedfad158ea64185a995af54b8be0e64.png" alt="be43d5124bbcb6e3b8b1b5b0dbc400c5.png"></p>
<h3 id="git">GIT:</h3>
<p><em><strong>Inicialización de un proyecto:</strong></em></p>
<p>Le damos click derecho encima del proyecto <code class="inline-code">Versioning&gt;Initalize Git Repository</code></p>
<p><img src="../../../../_resources/254f1cbc826340fa9aa257164d8d1a22.png" alt="59512179a663f00fae3ad202d62e5837.png"></p>
<p>2º Seleccionamos donde se va a almacenar el .git.(Lo dejamos por defecto)</p>
<p><img src="../../../../_resources/d1131a3407b34a3b9d656f27ff9ab1fa.png" alt="346c5a783b90521e0f4234a465e77079.png"></p>
<p><em><strong>Commit</strong></em></p>
<p>1º Le damos a click derecho encima del proyecto <code class="inline-code">Git&gt;Commit</code></p>
<p><img src="../../../../_resources/1cfac25665e748edac962ca5d5924a87.png" alt="8d7b452568ede0b9ff3bd28799c8a330.png"></p>
<p>2º En esta pestaña podemos ver los cambios de archivos que va a contener el commit y el mensaje que va a tener el commit.</p>
<p><img src="../../../../_resources/e2890d2f79e34199b6a6a00da9a48d17.png" alt="6704916d0dc5082d09bea20da385e1ba.png"></p>
<p>Para hacer el commit le damos a commit.</p>
<p>Si es el primer commit nos saldra este cartel, le tendremos que dar a si.(Es para poner el nombre del propietario del repositorio).</p>
<p><img src="../../../../_resources/320b4b60f3544b018dd5f11d13ff27c4.png" alt="5a4a42d1a30ff1b070a5987660108c43.png"></p>
<p>3º Para ver los commit que hemos echo, le damos click derecho encima del proyecto entramos en <mark>git</mark> y le damos a <mark>Show History</mark>.</p>
<p><img src="../../../../_resources/e9a1cb5e241342e88fb80747f66302a7.png" alt="237e1eeef2ce3d3d939c0d1592c7a245.png"></p>
<p>4º Veremos el historial de commit y si le damos encima del commit veremos los cambios que se hicieron.</p>
<p><img src="../../../../_resources/57a75d93292c416a81ba43a084c36631.png" alt="8c06d15017fce3238ce7360db33005d6.png"></p>
<p>Colores de los archivos en git:</p>
<p>Verde: Archivo creado que no se encuentra en el respositorio.</p>
<p>Azul o Amarillo: Archivo modificado.</p>
<p>Rojo: Archivo elminado.</p>
<p><em><strong>Reset</strong></em></p>
<p>Es para volver a un commit anterior y los posteriores a ese commit se eliminaran.</p>
<p>1º Click derecho encima del proyecto <code class="inline-code">Git&gt;Revert/Recover&gt;Reset</code>.</p>
<p><img src="../../../../_resources/46ddb99d77b442dc812a15a44f4b63d6.png" alt="b132856b974c47c78f157582a6d6f5a0.png"></p>
<p>2ºLe damos a select(Para seleccionar al commit que vamos a donde volver).</p>
<p><img src="../../../../_resources/bfda14b4e7ae43948560bcee7a4f2d76.png" alt="170d9fb21b8f72d3dab730e165957774.png"></p>
<p>3º Seleccionamos el commit al cual vamos a volver.</p>
<p><img src="../../../../_resources/d2bda8a49a4348079d4f39502435c69c.png" alt="382feedad921f729e9de8a1e86ac1c34.png"></p>
<p>4º Seleccionamos el tipo de Reset:</p>
<ul>
<li>–hard: Borrar todos los comits por delante del que has seleccionado y se borran los cambios. Cambia el puntero al commit seleccionado.</li>
<li>–mixed: Borra el comit pero los cambios se quedan, es como desacer un commit. Cambia el puntero al commit seleccionado.</li>
<li>–soft: No borra nada solo te mueve a ese commit.</li>
</ul>
<p><img src="../../../../_resources/1833cbe9273d4bfa8ea44557b98f1dc5.png" alt="409dd207de3bcd891fdea88575b91d22.png"></p>
<p>Luego le damos a Reset.</p>
<p>5º Luego después vemos que el commit se a borrado.</p>
<p><img src="../../../../_resources/9cb6c29456e1429aa4c95ac7c3206cf9.png" alt="b24af61e07ad655f4338bf4f9f077d99.png"></p>
<p><em><strong>Branch:</strong></em></p>
<p>1º</p>
<p><em><strong><img src="../../../../_resources/66eb1d9ef7db4abfbd0db3412d1b60df.png" alt="c3a19f5364bafa088964b0d1688239f7.png"></strong></em></p>
<p>2º</p>
<p><img src="../../../../_resources/ba292f2264f74849a2eb3a0305445362.png" alt="b3da103b84e05cdb79e64bc0a3435bb6.png"></p>
<p>3º</p>
<p><img src="../../../../_resources/703cc5895ef84213ac1f871330ad408a.png" alt="9a64f0ef9ff72b4a14249525f0c45c2a.png"></p>
<p>4º</p>
<p><img src="../../../../_resources/48d745eac3994f038a243a84440eaff7.png" alt="3df788b5d7e0567bd738c67e74cdd7e7.png"></p>
<p><em><strong>Checkout</strong></em></p>
<p>1º</p>
<p><img src="../../../../_resources/8ba609ef6c4b4347a328b9831f7d7d37.png" alt="301f8d9a65a532ba33a4a0341d4a40bd.png"></p>
<p>2º</p>
<p><img src="../../../../_resources/528c17793a77417da23b4675850f583a.png" alt="f6c491ac74c3dbe01ba8497400dc5c7a.png"></p>
<h1 id="lpa-ubed">LPA-UBED</h1>
<h2 id="especificaciones-2">Especificaciones:</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Sistema operativo</td>
<td>Ubuntu 22.01</td>
</tr>
<tr>
<td>Memoria RAM</td>
<td>2GB</td>
</tr>
<tr>
<td>Particiones</td>
<td>DISCO DE 500 GB DINÁMIC<br class="jop-noMdConv"/>TRES PARTICIONE<br class="jop-noMdConv"/>/ 150 GB<br class="jop-noMdConv"/>/swap 4GB<br class="jop-noMdConv"/>/var 346GB</td>
</tr>
<tr>
<td>Nombre de la maquina</td>
<td>root/paso(Permisos de administrador)<br class="jop-noMdConv"/>miadmin/paso(Permisos de administrador)<br class="jop-noMdConv"/>operadorweb/paso</td>
</tr>
<tr>
<td>Configuración de red</td>
<td>IP:192.168.3.202/24<br class="jop-noMdConv"/>Mascara: 255.255.255.0<br class="jop-noMdConv"/>Gatewat: 192.168.3.1<br class="jop-noMdConv"/>DNS:8.8.8.8</td>
</tr>
</tbody>
</table>
<h2 id="nombre-de-la-maquina">Nombre de la maquina:</h2>
<p><img src="../../../../_resources/bb7b2b58b6954b7281ac461f92bbb160.png" alt="1367bc8a4cb4a8ed27f6e0e390f8102a.png"></p>
<h2 id="versión">Versión:</h2>
<p><img src="../../../../_resources/51e6c83e28b941cc8e8e3724ca4c687a.png" alt="2f7258c47c87d682ff350268f90a5939.png"></p>
<h2 id="particiones-2">Particiones:</h2>
<p><img src="../../../../_resources/3af0cfc34b6a475bb0e145281df553cd.png" alt="70dbc3d9e09007dc67b137c283d93898.png"></p>
<h2 id="usuarios">Usuarios:</h2>
<p><img src="../../../../_resources/f8b77209b84a43a0930543403bac5ac5.png" alt="be3ce02cb98e3d55948eb8c22e4182e9.png"></p>
<h2 id="configuración-de-red-2">Configuración de red:</h2>
<p><img src="../../../../_resources/b951284d721e4bd58a56bbb16f56c153.png" alt="86dec5668b104af2ae3276158bae37e0.png"><img src="../../../../_resources/52421710c3bf47649f5cbad22f0880d2.png" alt="8b4097e44f4189bcef1ca2aef7e28128.png"></p>
<p><img src="../../../../_resources/07392b91d47f4474ab31c8582e29115a.png" alt="2aebf6bb825a6fda47549cb4a96464a0.png"></p>
<h2 id="apache">Apache</h2>
<h3 id="instalación-2">Instalación:</h3>
<p>Para instalar apache es:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt-get install -y apache2</pre><pre class="hljs"><code>sudo apt-<span class="hljs-built_in">get</span> install -y apache2</code></pre></div>
<h3 id="configuración-2">Configuración:</h3>
<p><em><strong>Configuración de Server Name:</strong></em></p>
<p>Editamos /etc/apache2/apache2.conf, añadimos al final <code class="inline-code">ServerName nombreServidor</code>.</p>
<p><img src="../../../../_resources/735e291187c34093894456f5128208d4.png" alt="e077d55de1addcf64062d4c0f7ac26cd.png"></p>
<p><em><strong>Configuración de sitios virtuales:</strong></em></p>
<p>Los sitios virtuales sirven para que en un servidor podamos tener varias paginas web separadas unas de otras. Se recomienda crear un usuario por cada sitio virtual y que este en el grupo www-data. Y ademas que este enjaulado (Se explica en el apartado SSH -Enjaula miento del usuario).</p>
<p>1º Creamos el usuario con la carpeta home en /var/www y que este en el grupo www-data.</p>
<p><img src="../../../../_resources/02e6fd9a3eb445fdba23d0e898c972b7.png" alt="a530145b915c6bc7a9337ed36ef50362.png"></p>
<p>2º Vamos a /etc/apache2/sites-available/ y copiamos el archivo 000-default.conf cambiándole el nombre</p>
<p><img src="../../../../_resources/c412a5122d8a4830bd80f856620d8eb3.png" alt="a1d004a7b15e37bcb867302d09134040.png"></p>
<p>3º Entramos y editamos el archivo</p>
<p><img src="../../../../_resources/e3ac5229dab5449c9e72c0e2d86666cc.png" alt="ca83da98f512e3acffc84f66afcbf9bd.png"></p>
<p>VirtualHost: Podemos configurar el acceso a la pagina web</p>
<ul>
<li>IP: Podemos indicar la ip por la que podemos entrar a la pagina web(Tiene que se la ip del servidor o una de las puertas). Si ponemos el * pueden entrar por cualquier ip del servidor.</li>
<li>puerto: Podemos indicar el puerto de acceso si queremos cambiarlo ponemos el nuevo puerto y vamos al ports.conf y añadimos <code class="inline-code">Listen Puerto</code></li>
<li>dominio: Si tenemos configurado el DNS podemos ponerl el nombre del dominio.</li>
</ul>
<p>DocumentRoot: Colocamos la direción del nuevo sitio virtual.</p>
<p>Despues de configurar el sitio hacemos un <code class="inline-code">sudo apache2ctl configtest</code> para comprobar que la configuración esta bien.</p>
<p>3º Activamos el sitio virtual con sudo a2ensite nombre_del_.conf</p>
<p><img src="../../../../_resources/9fa0ce3224a7440084fa982e009588c2.png" alt="a95e94f2cdce73bc5052691138e97632.png"></p>
<p>Despues reiniciamos apache con <code class="inline-code">sudo apache2ctl restart</code></p>
<p>4º Comprobamos que esta activado el sitio mirando en la carpeta /etc/apache2/sites-enabled</p>
<p><img src="../../../../_resources/1509c73233e3495c9618bf7a10d122b0.png" alt="7eacc53aabe0935c2c6f9dcbb4a20a06.png"></p>
<p><em><strong>Configuración de .htaccess:</strong></em></p>
<p>El archivo .htaccess es para poder configurar cosas en el sitio virconfiguracionphptual sin tocar el archivo .conf para activarlo tenemos que hacer lo siguiente.</p>
<p>1º Vamos a /etc/apache2 y editamos el apache2.conf</p>
<p><img src="../../../../_resources/41a4bdf0a46542e39833e5854e602421.png" alt="0ccacc579f23f38106439e5238bc1643.png"></p>
<p>Dentro buscamos esta apartado y cambiamos el None por All.</p>
<p><a data-from-md title='https://httpd.apache.org/docs/current/howto/htaccess.html' href='https://httpd.apache.org/docs/current/howto/htaccess.html'>Mas informacion</a></p>
<p>2º Despues dentro del la carpeta del sitio creamos un .htaccess</p>
<p>Si creamos el archivo .htaccess dentro de una carpeta afectara a la carpeta y a sus hijos, nietos…</p>
<p><img src="../../../../_resources/23c5d5c5714042ce8587a5f6578c01eb.png" alt="97f2b1fcc10547dcca114b2df4a4d448.png"></p>
<p><em><strong>Configuración de Codigos de Errores:</strong></em></p>
<p>Dentro de .htaccess añadimos:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">ErrorDocument codigo_Error acción

Accion:
&quot;texto&quot;        - [Comprobaciones](#Comprobacionesph)
/ruta/a/un/HTML.html</pre><pre class="hljs"><code>ErrorDocument codigo_Error acción

Accion:
<span class="hljs-string">&quot;texto&quot;</span>        - [Comprobaciones](<span class="hljs-comment">#Comprobacionesph)</span>
<span class="hljs-regexp">/ruta/</span>a<span class="hljs-regexp">/un/</span>HTML.html</code></pre></div>
<p><img src="../../../../_resources/7cb97ddcd89e4720b460fd3f355c46f7.png" alt="36afc3619a9e6bc1b6c25e9e685adbdd.png"></p>
<p><em><strong>Configuración de Alias:</strong></em></p>
<p>Los alias nos sirve para poder usar elementos fuera del sitio virtual.</p>
<p>1º Para configurar los tenemos que ir /etc/apache2/mods-enabled y editar alias.conf.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Alias /alis/ &quot;/direcion/del/recurso&quot;

&lt;Directory &quot;/direcion/del/recurso&gt;
         Options FollowSymlinks Indexes
         AllowOverride None
         Require all granted
&lt;/Directory&gt;</pre><pre class="hljs"><code>Alias /alis/ &quot;/direcion/<span class="hljs-selector-tag">del</span>/recurso&quot;

&lt;Directory &quot;/direcion/<span class="hljs-selector-tag">del</span>/recurso&gt;
         Options FollowSymlinks Indexes
         AllowOverride <span class="hljs-attribute">None</span>
         Require all granted
&lt;/Directory&gt;</code></pre></div>
<p><em><strong>Configuración de Re direcciones:</strong></em></p>
<p>1º Activamos el mod de apache rewrite y posteriormente reiniciamos apache:</p>
<p><img src="../../../../_resources/3c5c8cc3433f4af3acb64e0945b8e14b.png" alt="5d79e1a00227a6b2ac6c3b1697d7dd90.png"></p>
<p>2º Vamos a archivo .htacces y</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Redirect [Status] [URL-path] url
Status:
301: Redireccion permanente.
302: Redireccion temporal.
Sirve para cuando un navegador indexa la pagina la redirecion la indexe o no(Si es permanente la indexa si es temporal no la indexa).

Readirect 302 /google https://www.google.es</pre><pre class="hljs"><code>Redirect [Status] [URL-path] url
Status:
<span class="hljs-number">301</span>: Redireccion permanente.
<span class="hljs-number">302</span>: Redireccion temporal.
Sirve para cuando un navegador indexa <span class="hljs-keyword">la</span> pagina <span class="hljs-keyword">la</span> redirecion <span class="hljs-keyword">la</span> indexe <span class="hljs-keyword">o</span> <span class="hljs-keyword">no</span>(Si es permanente <span class="hljs-keyword">la</span> indexa si es temporal <span class="hljs-keyword">no</span> <span class="hljs-keyword">la</span> indexa).

Readirect <span class="hljs-number">302</span> /google https://www.google.es</code></pre></div>
<h3 id="https">HTTPS:</h3>
<p>1ºGeneramos la clave privada con el siguiente comando:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo openssl genrsa 2048 &gt; operdadorweb.key</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> openssl genrsa <span class="hljs-number">2048</span> &gt; operdadorweb.key</code></pre></div>
<p>2ºGenereamos la clave publica:</p>
<ul>
<li><strong>Country Name (2 letter code) []</strong>: (ES in Spain for example) State or Province Name (full name) [Some-State]: (your state or province name, name of your departament in Spain)</li>
<li><strong>Locality Name (eg, city) []</strong>: (the name of your city)</li>
<li><strong>Organization Name (eg, company) []</strong>: (your organization name) Preferente en mayúsculas.</li>
<li><strong>Organizational Unit Name (eg, section) []</strong>: (do not fill - advised - or enter a generic term such as “IT Department”.)</li>
<li><strong>Common Name (eg, YOUR name) []</strong>: (domain name/ server name/FQDN is the name of the website to be secured) No admite espacios en lanco.</li>
<li><strong>Email Address []</strong>: (let blank)</li>
</ul>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">openssl req -new -key operdadorweb.key &gt;operadorweb.csr</pre><pre class="hljs"><code>openssl req -<span class="hljs-built_in">new</span> -<span class="hljs-keyword">key</span> operdadorweb.<span class="hljs-keyword">key</span> &gt;operadorweb.csr</code></pre></div>
<p>3ºFirmamos el certificado:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">openssl x509 -req -days 356 -in operadorweb.csr -signkey operadorweb.key -out operadorweb.crt</pre><pre class="hljs"><code>openssl x509 -req -days 356 -<span class="hljs-keyword">in</span> operadorweb.csr -signkey operadorweb.<span class="hljs-keyword">key</span> -<span class="hljs-keyword">out</span> operadorweb.crt</code></pre></div>
<p>4ºMover los siguiente archivos:</p>
<p><code class="inline-code">.key</code> lo movemos a <code class="inline-code">/etc/ssl/private/</code></p>
<p><code class="inline-code">.crt</code> lo mevemos a <code class="inline-code">/etc/ssl/certs/</code></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo cp operadorweb.key /etc/ssl/private/
sudo cp operadorweb.crt /etc/ssl/certs/</pre><pre class="hljs"><code>sudo cp operadorweb.key <span class="hljs-regexp">/etc/</span>ssl<span class="hljs-regexp">/private/</span>
sudo cp operadorweb.crt <span class="hljs-regexp">/etc/</span>ssl<span class="hljs-regexp">/certs/</span></code></pre></div>
<p>5ºCambiamos el propietario del certificado y la cabe publica <code class="inline-code">root:ssl-cert</code> y persimos <code class="inline-code">640</code>.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo chmod 640 /etc/ssl/private/operadorweb.key
sudo chmod 640 /etc/ssl/certs/operadorweb.crt</pre><pre class="hljs"><code>sudo chmod <span class="hljs-number">640</span> <span class="hljs-regexp">/etc/</span>ssl<span class="hljs-regexp">/private/</span>operadorweb.key
sudo chmod <span class="hljs-number">640</span> <span class="hljs-regexp">/etc/</span>ssl<span class="hljs-regexp">/certs/</span>operadorweb.crt</code></pre></div>
<p>6ºVamos a activar el modulo ssl en apache para poder usar los certificados.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo a2enmod ssl</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> a2enmod ssl</code></pre></div>
<p>7º Vamos a <code class="inline-code">/etc/apache2/sites-available</code>, y clonamos <code class="inline-code">default-ssl.conf</code></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo cp default-ssl.conf operadorwebssl.conf</pre><pre class="hljs"><code>sudo <span class="hljs-keyword">cp</span> default-ssl.<span class="hljs-keyword">conf</span> operadorwebssl.<span class="hljs-keyword">conf</span></code></pre></div>
<p>8º Modificamos el archivo clonado con las siguientes directivas:</p>
<ul>
<li><strong>SSLCertificateFile</strong>: Tenemos que poner la ruta al .crt</li>
<li><strong>SSLCertificateKeyFile</strong>: Se pone la ruta al .key</li>
<li><strong>SSLEngine</strong>: tiene que estar on</li>
<li><strong>ServerAdmin</strong>: correo electrónico del administrador del sitio</li>
<li><strong>ServerName</strong>: dominio del sitio</li>
<li><strong>DocumentRoot</strong>: Donde se encuentra la pagina web</li>
</ul>
<p><img src="../../../../_resources/e9ca3890821946f39cdac7799cd4f36d.png" alt="76d0bf014dbd86a568874cdbb29fe569.png"></p>
<p>9ºAbrimos el puerto 443.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo ufw allow 443</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> ufw <span class="hljs-literal">allow</span> <span class="hljs-number">443</span></code></pre></div>
<p>10ºActivamos el sitio.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo a2ensite operadorwebssl.conf</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> a2ensite operadorwebssl.conf</code></pre></div>
<p>11ºComprobamos que funciona:</p>
<p><img src="../../../../_resources/31097416bdbc45deba697ab02d332934.png" alt="763ff4cb43ca4e35735c20782e991fb1.png"></p>
<p><mark>Nos saldrá el candado con un símbolo de peligro, porque el certificado no es una entidad de cerficiados de confianza.</mark></p>
<h3 id="redicrecion-de-http-a-https">Redicrecion de HTTP a HTTPS:</h3>
<p>1º Tenemos que activar el modulo <code class="inline-code">rewrite</code> de apche:</p>
<p><code class="inline-code">sudo a2enmod rewrite</code></p>
<p>2º Creamos <code class="inline-code">.htaccess</code> en el la carpeta del sitio virtaul y añadirmos lo siguiente:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">RewriteEngine On
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://dominio o ip/$1 [R,L]</pre><pre class="hljs"><code><span class="hljs-attribute">RewriteEngine</span> <span class="hljs-literal">On</span>
<span class="hljs-attribute">RewriteCond</span> <span class="hljs-variable">%{SERVER_PORT}</span> <span class="hljs-number">80</span>
<span class="hljs-attribute">RewriteRule</span> ^(.*)$ https://dominio o ip/$<span class="hljs-number">1</span><span class="hljs-meta"> [R,L]</span></code></pre></div>
<ul>
<li><code class="inline-code">Options +FollowSymLinks</code> - es una directiva de Apache, requisito previo para mod_rewrite.</li>
<li><code class="inline-code">RewriteEngine On</code> - habilita mod_rewrite.</li>
<li><code class="inline-code">RewriteCond %{SERVER_PORT} 80</code> - sirve para indicar que todas las peticiones que se realicen al puerto 80 (puerto por defecto de Apache para servicio web), deseamos que vayan a través de la regla especificada.</li>
<li><code class="inline-code">RewriteRule</code> - define una regla particular.
<ul>
<li>Dentro de la regla de reescritura, la primera cadena de caracteres después de <code class="inline-code">RewriteRule</code>, define lo que la URL original parece.</li>
<li>La segunda cadena después de <code class="inline-code">RewriteRule</code> define la nueva URL.</li>
<li><code class="inline-code">$1</code> - Este carácter especial, sustituye (o indica) la parte entre paréntesis, especificada en la primera cadena. Básicamente, lo que haces es asegurar que las sub-páginas redireccionan a la misma sub-página y no a la página principal. Puede omitirlo para redirigir a la página principal. (Si usted no tiene el mismo contenido en el nuevo directorio que había en el antiguo directorio, deje esta expresión regular</li>
<li><code class="inline-code">[R,L]</code> - Esta opción, realiza una redirección, y también deshabilita que las reglas de reescritura que estén escritas después afecten a la dirección URL (una buena idea para añadir después de la última rewrite rule).</li>
</ul>
</li>
</ul>
<h3 id="autentificación-con-apache">Autentificación con Apache</h3>
<p>El sitio daw201.luis.local/nttdata que solo tiene acceso los usuarios: jero/israel/imelda</p>
<p>1º Comprobamos que el modulo digest esta activado, en caso de que no este activado lo activamos:</p>
<p><code class="inline-code">sudo a2enmod auth_digest</code>.</p>
<p>2ºCremos una carpeta en /var/www/daw201 que se llama data, luego le cambiamos el propietario a daw201:www-data</p>
<p><code class="inline-code">sudo mkdir data</code></p>
<p><code class="inline-code">sudo chown daw201:www-data data/</code></p>
<p><img src="../../../../_resources/1dacbecb9dc54bbd8e07a1fda86489e3.png" alt="ebabe3bfd6ba3be5b15e54f6bd2deee3.png"></p>
<p>3º Creación del los usuarios usaremos el comando <code class="inline-code">htdigest</code>:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">htdigest –c archivo_que_va_a_contener_los_usuarios grupo nombre

-c es para crear el directorio, si ya existe lo rescribe y elimina los usuarios anteriores.
Asi que cuando quieras añadir mas usuario no pongas -c</pre><pre class="hljs"><code>htdigest –<span class="hljs-keyword">c</span> archivo_que_va_a_contener_los_usuarios grupo nombre

-<span class="hljs-keyword">c</span> es para crear el directorio<span class="hljs-punctuation">,</span> si ya existe lo rescribe y elimina los usuarios anteriores.
Asi que cuando quieras añadir mas usuario no pongas -<span class="hljs-keyword">c</span></code></pre></div>
<p><img src="../../../../_resources/2e53b64f19d44c2c95164d48d84c635d.png" alt="68810eebc59cd7e4bcfeda30355af51a.png"></p>
<p><img src="../../../../_resources/ec8a234b4b4545ec9087a29a8c76276e.png" alt="72921f7fa9f92e4c3c56800bcc2ec5ea.png"></p>
<p>4º Editamos el .htaccess del sitio o de la carpeta que vamos a restringir a la entrada.</p>
<p>En caso de que sea desde el sitio:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">&lt;Directory direcion&gt;
    Options Indexes FollowSymLinks
    AuthType Digest
    AuthName “dominio-ninja”
    AuthDigestProvider file
    AuthUserFile /etc/apache2/digest
    Require valid-user
&lt;/Directory&gt;</pre><pre class="hljs"><code>&lt;Directory direcion&gt;
    <span class="hljs-keyword">Options</span> Indexes FollowSymLinks
    AuthType Digest
    AuthName “dominio-ninja”
    AuthDigestProvider <span class="hljs-keyword">file</span>
    AuthUserFile <span class="hljs-regexp">/etc/</span>apache2/digest
    Require valid-user
&lt;/Directory&gt;</code></pre></div>
<p>En caso de que sea desde el .htacces de la carpeta:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Options Indexes FollowSymLinks
AuthType Digest
AuthName “domino o UserName”
AuthDigestProvider file
AuthUserFile /etc/apache2/digest
Require valid-user</pre><pre class="hljs"><code><span class="hljs-keyword">Options</span> Indexes FollowSymLinks
AuthType Digest
AuthName “domino o UserName”
AuthDigestProvider <span class="hljs-keyword">file</span>
AuthUserFile <span class="hljs-regexp">/etc/</span>apache2/digest
Require valid-user</code></pre></div>
<p>5º Cuando entremos al sito nos pedirá el usuario y la contraseña.</p>
<p><img src="../../../../_resources/28e9a3de4d4c4324869705201a4a3149.png" alt="d8432ec5138ada8f092964728952c8ee.png"></p>
<p><strong>Creación de grupos en digest :</strong></p>
<p>1º Activamos el modulo <code class="inline-code">authz_groupfile</code></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo a2enmod authz_groupfile</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> a2enmod authz_groupfile</code></pre></div>
<p>2ºCreamos un archivo dentro de data que va a a contener los grupos, el archivo tiene que tener el siguiente patron:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">nombreGrupo: nombreUsuario1 nombreUsuario2 ...</pre><pre class="hljs"><code><span class="hljs-symbol">nombreGrupo:</span> nombreUsuario1 nombreUsuario2 ...</code></pre></div>
<p>3º</p>
<h2 id="php">PHP</h2>
<h3 id="instalación-3">Instalación:</h3>
<p>Para instalar PHP es:</p>
<p>Si no ponemos versión nos instalara la LTS</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt-get install -y php</pre><pre class="hljs"><code>sudo apt-<span class="hljs-built_in">get</span> install -y php</code></pre></div>
<p>Si queremos instalar una version en concreto:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt-get install -y phpX.X

sudo apt-get install -y php8.1</pre><pre class="hljs"><code>sudo apt-<span class="hljs-built_in">get</span> install -y phpX.X

sudo apt-<span class="hljs-built_in">get</span> install -y php8.1</code></pre></div>
<h3 id="configuración-3">Configuración:</h3>
<p>1º Vamos al directorio /etc/php/X.X/apache2, dentro de php.ini tenemos que editar o des-comentar lo siguiente:</p>
<p>php.ini: Es el archivo de configuración de PHP</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Desarrollo</td>
<td>Producción</td>
</tr>
<tr>
<td></td>
<td>file-uploads = On<br class="jop-noMdConv"/>allow-url-fopen = On<br class="jop-noMdConv"/>memory-limit = 256M<br class="jop-noMdConv"/>upload-max-filesize = 100M<br class="jop-noMdConv"/>max-execution-time = 360<br class="jop-noMdConv"/>date.timezone = Europe/Madrid</td>
<td>file-uploads = On<br class="jop-noMdConv"/>allow-url-fopen = On<br class="jop-noMdConv"/>memory-limit = 256M<br class="jop-noMdConv"/>upload-max-filesize = 100M<br class="jop-noMdConv"/>max-execution-time = 360<br class="jop-noMdConv"/>date.timezone = Europe/Madrid</td>
</tr>
<tr>
<td>Errores</td>
<td>display-errors = On<br class="jop-noMdConv"/>display-startup-errors = On</td>
<td>display-errors = Off<br class="jop-noMdConv"/>display-startup-errors = Off</td>
</tr>
</tbody>
</table>
<p>2º Reiniciamos el servicio apache:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo service apache2 restart</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> service apache2 restart</code></pre></div>
<p>3º En el caso de que sea menor de la versión 8.0 tenemos que descargar</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt install -y libapache2-mod-phpX.XConfiguraci%C3%B3nph</pre><pre class="hljs"><code>sudo apt install -y libapache2-mod-phpX.XConfiguraci<span class="hljs-built_in">%C</span>3<span class="hljs-built_in">%B</span>3nph</code></pre></div>
<p>y activarlo en apache.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo a2enmod phpX.X</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> a2enmod phpX.X</code></pre></div>
<h4 id="comprobaciones"><strong>Comprobaciones:</strong></h4>
<p>En el proyecto remoto creamos un <code class="inline-code">index.php</code> y lo abrimos</p>
<p><img src="../../../../_resources/1d7b76f2249347a0a5d64f4b98ec976b.png" alt="7257a2a3b34f5216e6a77a693072f62a.png"></p>
<p>Ver información de PHP:</p>
<p>En el fichero PHP ponemos <code class="inline-code">phpinfo()</code> y lo ejecutamos:</p>
<p><img src="../../../../_resources/2b5f345fb6fa4af9803acd73b9cc1e4f.png" alt="949505e9113e574c9f5d48e0401f6d15.png"></p>
<p>Nos da información sobre todo(configuración, parámetros, módulos instalados)</p>
<h2 id="xdebug">Xdebug:</h2>
<h3 id="instalación-4">Instalación:</h3>
<p>Para instalarlo lo hacemos de la siguiente forma:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt-get install php-xdebug</pre><pre class="hljs"><code>sudo apt-<span class="hljs-built_in">get</span> install php-xdebug</code></pre></div>
<h3 id="configuración-4">Configuración:</h3>
<p>1º Para configurarlo tenemos que editar el fichero <code class="inline-code">/etc/php/8.1/apache2/conf.d/20-xdebug.ini</code> y añadir lo siguiente en el archivo:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">xdebug.discover_client_host=1
xdebug.remote_autostart=on
xdebug.start_with_request = yes
xdebug.mode=debug
xdebug.client_host=127.0.0.1
xdebug.client_port=9003
xdebug.idkey=&quot;netbeans-xdebug&quot;

zend_extension=xdebug.so
xdebug.mode=develop,debug
xdebug.discover_client_host=1
xdebug.remote_autostart=on
xdebug.start_with_request = yes
xdebug.client_host=127.0.0.1
xdebug.client_port=9003
xdebug.idkey=&quot;netbeans-xdebug&quot;</pre><pre class="hljs"><code><span class="hljs-attr">xdebug.discover_client_host</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">xdebug.remote_autostart</span>=<span class="hljs-literal">on</span>
<span class="hljs-attr">xdebug.start_with_request</span> = <span class="hljs-literal">yes</span>
<span class="hljs-attr">xdebug.mode</span>=debug
<span class="hljs-attr">xdebug.client_host</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>
<span class="hljs-attr">xdebug.client_port</span>=<span class="hljs-number">9003</span>
<span class="hljs-attr">xdebug.idkey</span>=<span class="hljs-string">&quot;netbeans-xdebug&quot;</span>

<span class="hljs-attr">zend_extension</span>=xdebug.so
<span class="hljs-attr">xdebug.mode</span>=develop,debug
<span class="hljs-attr">xdebug.discover_client_host</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">xdebug.remote_autostart</span>=<span class="hljs-literal">on</span>
<span class="hljs-attr">xdebug.start_with_request</span> = <span class="hljs-literal">yes</span>
<span class="hljs-attr">xdebug.client_host</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>
<span class="hljs-attr">xdebug.client_port</span>=<span class="hljs-number">9003</span>
<span class="hljs-attr">xdebug.idkey</span>=<span class="hljs-string">&quot;netbeans-xdebug&quot;</span></code></pre></div>
<p>2º Despues aplicar los cambios debemos reiniciar el servicio de apache2:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo service apache2 restart</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> service apache2 restart</code></pre></div>
<p>3º Abrimos en el cortafuegos el puesto 9003:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo ufw allow 9003</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> ufw <span class="hljs-literal">allow</span> <span class="hljs-number">9003</span></code></pre></div>
<p>luego lo comprobamos con:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo ufw status</pre><pre class="hljs"><code><span class="hljs-attribute">sudo ufw status</span></code></pre></div>
<p><img src="../../../../_resources/9503021d97134a7d9ab87b3a67f42da1.png" alt="3e7385b48565ef21a21a441e154f77b8.png"></p>
<h2 id="ssh">SSH:</h2>
<h3 id="enjaula-miento-del-usuario">Enjaula miento del usuario:</h3>
<p>Enjaular un usuario se usa para que un usuario no pueda moverse por todo el sistema de ficheros sino por donde el administrador decida.</p>
<p>1º Debemos cambiar el propietario a root(o por otro usuario, pero el grupo tiene que ese si o si distinto) de la carpeta home del usuario que vamos a enjaular.</p>
<p><img src="../../../../_resources/0afa1fdb03874d7c85d739d9b0855654.png" alt="9d6c19ab77852eb059d94c2c768b0db3.png"></p>
<p>2º Eliminamos los permisos de escritura del directorio home del usuario.</p>
<p><img src="../../../../_resources/0434c7adc580425a8b29d6dae5978a4d.png" alt="44fd73f20d903b41f307cc1bb149c9a9.png"></p>
<p>3º Dentro del directorio home del usuario creamos una carpeta que es a la cual tendra el acceso y tendra todos los permisos.</p>
<p><img src="../../../../_resources/0abd7c52d0e846cc9d0b40a0d8e65ed4.png" alt="9f6587ff9b559b12edf28eb9e1ee261d.png"></p>
<p>4º Ponemos de popietario al usuario enjaulado, grupo www-data(O el respectivo grupo que decidamos) y los permisos 2775.</p>
<p><img src="../../../../_resources/d56b73b02c6d4209aef69ea7188aadcd.png" alt="0edba55c779d5906e2e2273dc1565bdd.png"></p>
<p>5º Vamos a editar el archivo sshd_config que se encuantra en /etc/ssh/, comentamos Subsystem sftp /usr/lib/openssh/sftp-server y escribimos Subsystem sftp internal-sftp.</p>
<p><img src="../../../../_resources/1a35e2dabe9f4014a0b96498ec36d3e4.png" alt="a8ae682916a5d0e5f371df5f057d5cba.png"></p>
<p>6º Luego añadimos esto:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Match User daw1
ChrootDirectory %h
ForceCommand internal-sftp -u 2
AllowTcpForwarding yes
PermitTunnel no
X11Forwarding no</pre><pre class="hljs"><code><span class="hljs-attribute">Match</span> User daw1
ChrootDirectory %h
ForceCommand internal-sftp -u <span class="hljs-number">2</span>
AllowTcpForwarding <span class="hljs-literal">yes</span>
PermitTunnel <span class="hljs-literal">no</span>
X11Forwarding <span class="hljs-literal">no</span></code></pre></div>
<p>Si queremos enjaular a un grupo ponemos <code class="inline-code">Match Group nombre</code> o si queremos enjaular a un unico usuario <code class="inline-code">Match User usuario.</code></p>
<p><strong>Comprobaciones:</strong></p>
<p>Nos conectamos con filezilla al usuario enjaulado y nos debera salir solo las carpetas dentro del directorio Home.</p>
<p><img src="../../../../_resources/7c5f868774174c37874b59f0f7ded419.png" alt="0e7df045b0c7c8299e6f03b6a8e37bc8.png"></p>
<p>Solo nos aparece la carpeta dentro del home del usuario.</p>
<p>Tambien pondemos intentar conectarnos por ssh al servidor con el usuario enjaulado y nos dara un error</p>
<p><img src="../../../../_resources/f3d94e874a1e48619a8d3ec10b6f5e55.png" alt="6eb1c194c295110c9ef5416b08fc3ca7.png"></p>
<h2 id="mysql">Mysql:</h2>
<h3 id="instalación-5">Instalación:</h3>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">sudo apt install mysql-server-8.0</pre><pre class="hljs"><code><span class="hljs-attribute">sudo</span> apt install mysql-server-<span class="hljs-number">8</span>.<span class="hljs-number">0</span></code></pre></div>
<h3 id="configuración-5">Configuración:</h3>
<h4 id="acceso-al-servidor-desde-fuera">Acceso al servidor desde fuera:</h4>
<p>1º Vamos a /etc/mysql/mysql.conf.d y entramos dentor de mysqld.cnf.</p>
<p>2º Buscamos con Ctrl+w bind-address(Esta directiva nos indica desde donde nos podemos conectar remotamente) la comentamos, guardamos y cerramos el archivo.</p>
<p>3º Reiniciamos el servicio.</p>
<p>4º Abrimos el puerto 3306 para poder acceder.</p>
<p>5º Despues creamos una usuario remote dentro de la base de datos y ya podremos acceder remotamente.</p>
<hr>
<h2 id="dns">DNS</h2>
<h3 id="intatalacion-de-bind">Intatalacion de bind:</h3>
<p>El paquete que tenemos que instalar es <strong>bind9</strong></p>
<p>1º Comprobamos que no esta instalado el paquete <code class="inline-code">dpkg -s bind9</code></p>
<p>2º Actualizamos repositorios <code class="inline-code">sudo apt-get update</code></p>
<p>3º Instalamos <code class="inline-code">sudo apt-get install bind9</code></p>
<p>4º Despues abrimos el puerto 53 UDP y TCP <code class="inline-code">sudo ufw allow 53</code></p>
<h3 id="control-del-servicio">Control del servicio</h3>
<p>Comprobar el estado del servicio <code class="inline-code">sudo service bind9 status</code></p>
<p>Arrancar el servicio <code class="inline-code">sudo service bind9 start</code></p>
<p>Parar el servicio <code class="inline-code">sudo service bind9 stop</code></p>
<p>Reiniciar el servicio <code class="inline-code">sudo service bind9 restart</code></p>
<h3 id="estructura-de-directorios-y-archivos-de-configuración-de-bind9">Estructura de directorios y archivos de configuración de bind9</h3>
<ul>
<li><mark>/etc/bind/named.conf</mark> es un fichero de configuración global</li>
<li><mark>/etc/bind/named.conf.options</mark>: especifica las opciones generales para el funcionamiento de bind</li>
<li><mark>/etc/bind/named.conf.local</mark>: Fichero de configuracion de una zona</li>
<li><mark>/etc/bind/named.conf.default.zone</mark>: Contiene la definición de las zonas por defecto para la instalación, que contiene entre otras cosas las definición de localhost</li>
<li><mark>/etc/bind/db</mark>: ficheros con definiciones de las zonas que ha instlado Ubuntu.</li>
</ul>
<h3 id="cambiar-la-configuración-de-red-del-servidor-dns-y-sufijo-dns">Cambiar la configuración de red del servidor DNS y sufijo-DNS</h3>
<p>Para cambiar la configuración del servidor vamos a <code class="inline-code">/etc/netpla/</code> y editamos con</p>
<p><code class="inline-code">sudo nano archivo por defecto o archivo de la tarjeta principal</code></p>
<p><img src="../../../../_resources/c7c376a4b0b64f8d8d6e927dbccc25ca.png" alt="06c1bbc2d684dcd26ce9c35ad9d0fb1e.png"></p>
<p>Para aplicar los cambiar lo hacemos con</p>
<p><code class="inline-code">sudo netplan apply</code></p>
<hr>
<h3 id="ip-creación-de-una-zona-directa">IP Creación de una zona directa:</h3>
<p>1º Editamos el fichero /etc/bind/named.conf.local</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">zone &quot;luis.local&quot;  { type master; file &quot;/etc/bind/db.luis.local&quot;; };</pre><pre class="hljs"><code>zone <span class="hljs-string">&quot;luis.local&quot;</span>  { <span class="hljs-keyword">type</span> <span class="hljs-type">master; </span>file <span class="hljs-string">&quot;/etc/bind/db.luis.local&quot;</span>; };</code></pre></div>
<p>Chequear los ficheros de configuración <code class="inline-code">sudo named-checkconf nombre_fichero</code> o Chequea todos los ficheros del servicio</p>
<p><code class="inline-code">sudo named-checkconf</code></p>
<p>2º Crear el fichero que contiene los RR (/etc/bind/db.luis.local) <mark>Nota. @ equivale al nombre del dominio</mark></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">;
; BIND data for luis.local
;
$TTL    604800
@       IN SOA  lpa-used.luis.local. luis.perast.educa.jcyl.es. (
                  1             ; Serial
             604800             ; Refresh
              86400             ; Retry
            2419200             ; Expire
             3600 )             ; Negative Cache TTL
;
@               IN      NS      lpa-used.luis.local. ; Registros Host
@               IN      A       192.168.3.202
lpa-used        IN      A       192.168.3.202

; Registros Alias

daw201  IN      CNAME   lpa-used.luis.local. 
daw202  IN      CNAME   lpa-used.luis.local. 
daw203  IN      CNAME   lpa-used.luis.local. 
daw204  IN      CNAME   lpa-used.luis.local.</pre><pre class="hljs"><code>;
<span class="hljs-comment">; BIND data for luis.local</span>
;
$TTL    <span class="hljs-number">604800</span>
@       IN SOA  lpa-used.<span class="hljs-keyword">luis.local. </span><span class="hljs-keyword">luis.perast.educa.jcyl.es. </span>(
                  <span class="hljs-number">1</span>             <span class="hljs-comment">; Serial</span>
             <span class="hljs-number">604800</span>             <span class="hljs-comment">; Refresh</span>
              <span class="hljs-number">86400</span>             <span class="hljs-comment">; Retry</span>
            <span class="hljs-number">2419200</span>             <span class="hljs-comment">; Expire</span>
             <span class="hljs-number">3600</span> )             <span class="hljs-comment">; Negative Cache TTL</span>
;
@               IN      NS      lpa-used.<span class="hljs-keyword">luis.local. </span><span class="hljs-comment">; Registros Host</span>
@               IN      A       <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">3</span>.<span class="hljs-number">202</span>
lpa-used        IN      A       <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">3</span>.<span class="hljs-number">202</span>

<span class="hljs-comment">; Registros Alias</span>

daw201  IN      CNAME   lpa-used.<span class="hljs-keyword">luis.local. </span>
daw202  IN      CNAME   lpa-used.<span class="hljs-keyword">luis.local. </span>
daw203  IN      CNAME   lpa-used.<span class="hljs-keyword">luis.local. </span>
daw204  IN      CNAME   lpa-used.<span class="hljs-keyword">luis.local.</span></code></pre></div>
<p>Chequear el fichero de zona</p>
<p><code class="inline-code">sudo named-checkzone Nombre_Zona fichero_contiene_RR</code></p>
<p>Después reiniciamos el servicio</p>
<h3 id="para-ver-si-funciona">Para ver si funciona:</h3>
<p>Con <code class="inline-code">nslookup</code> haber si resuelve <code class="inline-code">luis.local</code>  o <code class="inline-code">lpa-used.luis.local</code></p>
<p><img src="../../../../_resources/6bc70083301a42c5b9108acf192ec3f2.PNG" alt="Zona-Directa.PNG"></p>
<h3 id="creación-de-alias-o-cname">Creación de alias o CNAME</h3>
<p>Esto tiene que ir en el fichero db.tunombre.local</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">ALIAS    IN    CNAME    FQDN_MAQUINA(Nombre absoluto xxxus20x.tunombre.local.)</pre><pre class="hljs"><code>ALIAS    IN    CNAME    <span class="hljs-constructor">FQDN_MAQUINA(Nombre <span class="hljs-params">absoluto</span> <span class="hljs-params">xxxus20x</span>.<span class="hljs-params">tunombre</span>.<span class="hljs-params">local</span>.)</span></code></pre></div>
<p>Ejemplo:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">www IN CNAME xxxus20x.tunombre.local.
ftp     IN CNAME xxxus20x.tunombre.local.</pre><pre class="hljs"><code>www IN CNAME xxxus20x.tunombre.<span class="hljs-meta">local</span>.
ftp     IN CNAME xxxus20x.tunombre.<span class="hljs-meta">local</span>.</code></pre></div>
<hr>
<h3 id="zona-de-resolución-inversa">Zona de resolución inversa</h3>
<p>En la zona inversa resuelve la ip por el nombre.</p>
<p>Vamos a configurar para la red 192.168.3.0/24, la zona se llama <code class="inline-code">3.168.192.in-addr.arpa</code>  Para declarar la zona tenemos que editar el fichero <mark>/etc/bind/named.conf.local</mark> añadimos</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">zone “3.168.192.in-addr.arpa”{
    type master;
    file “/etc/bind/db.3.168.192.in-addr.arpa”;
};</pre><pre class="hljs"><code>zone “<span class="hljs-number">3</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-keyword">in</span>-<span class="hljs-keyword">addr</span>.arpa”{
    <span class="hljs-keyword">type</span> master;
    file “/etc/<span class="hljs-keyword">bind</span>/db.<span class="hljs-number">3</span>.<span class="hljs-number">168</span>.<span class="hljs-number">192</span>.<span class="hljs-keyword">in</span>-<span class="hljs-keyword">addr</span>.arpa”;
};</code></pre></div>
<p>Chequear los ficheros de bind9: <code class="inline-code">sudo named-checkconf /etc/bind/named.conf.local</code> O bien, <code class="inline-code">sudo named-checkconf  </code></p>
<p>Para la creación de la zona inversa nos hacemos opoyo de la zona directa:</p>
<p><code class="inline-code">sudo cp /etc/bind/db.tunombre.local /etc/bind/db.20x.168.192.in-addr.arpa</code></p>
<p>Editamos el fichero que acabamos de copiar con las siguientes pautas:</p>
<ul>
<li>Todos los registros <code class="inline-code">A</code> los cambiamos por <code class="inline-code">PTR</code>.</li>
<li>Retiramos todos los registros <code class="inline-code">CNAME</code>.</li>
<li>Cambiamos el dominio por la ip(parte host) dentro de los registros NS y PTR. Y las ip por el dominio correspondiente.</li>
</ul>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">;
; BIND data file for db.3.168.192.in-addr.arpa
;
$TTL    604800
@       IN      SOA     lpa-used.luis.local. luis.peras.educa.jcyl.es. (
                              1         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         3600 )       ; Negative Cache TTL
;
@             IN       NS    lpa-used.luis.local. 
202           IN       PTR   luis.local. 
202           IN       PTR   lpa-used.luis.local.</pre><pre class="hljs"><code>;
<span class="hljs-comment">; BIND data file for db.3.168.192.in-addr.arpa</span>
;
$TTL    <span class="hljs-number">604800</span>
@       IN      SOA     lpa-used.<span class="hljs-keyword">luis.local. </span><span class="hljs-keyword">luis.peras.educa.jcyl.es. </span>(
                              <span class="hljs-number">1</span>         <span class="hljs-comment">; Serial</span>
                         <span class="hljs-number">604800</span>         <span class="hljs-comment">; Refresh</span>
                          <span class="hljs-number">86400</span>         <span class="hljs-comment">; Retry</span>
                        <span class="hljs-number">2419200</span>         <span class="hljs-comment">; Expire</span>
                         <span class="hljs-number">3600</span> )       <span class="hljs-comment">; Negative Cache TTL</span>
;
@             IN       NS    lpa-used.<span class="hljs-keyword">luis.local. </span>
<span class="hljs-number">202</span>           IN       PTR   <span class="hljs-keyword">luis.local. </span>
<span class="hljs-number">202</span>           IN       PTR   lpa-used.<span class="hljs-keyword">luis.local.</span></code></pre></div>
<p>Ahora chequeamos la zona: <code class="inline-code">Sudo named-checkzone 3.168.192.in-addr.arpa /etc/bind/db.3.168.192.in-addr.arpa</code></p>
<p>Después reiniciamos el servicio <code class="inline-code">Sudo service bind9 restart</code></p>
<h3 id="para-ver-si-funciona-2">Para ver si funciona:</h3>
<p>Con <code class="inline-code">nslookup</code> haber si resuelve 192.168.3.202</p>
<p><img src="../../../../_resources/8e604070d21741f6864879fc62736981.PNG" alt="Zona_inversa.PNG"></p>
<hr>
<h3 id="reenviar-peticiones-dns">Reenviar peticiones DNS:</h3>
<p>Es nuestro servidor DNS le vamos a indicar la IP de otros servidores DNS para que reenvié las consultas que no es capaz de resolver . 1ºEditamos el fichero <mark>/etc/bind/named.conf.options</mark></p>
<p>2º Dentro de forwarders metemos las ip de los servidores DNS terminado con ;</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">options {
        directory &quot;/var/cache/bind&quot;;
 
        // If there is a firewall between you and nameservers you want
        // to talk to, you may need to fix the firewall to allow multiple
        // ports to talk.  See http://www.kb.cert.org/vuls/id/800113
 
        // If your ISP provided one or more IP addresses for stable
        // nameservers, you probably want to use them as forwarders.
        // Uncomment the following block, and insert the addresses replacing
        // the all-0's placeholder.
 
        forwarders {
          8.8.8.8;
          8.8.4.4;
         };
 
        //========================================================================
        // If BIND logs error messages about the root key being expired,
        // you will need to update your keys.  See https://www.isc.org/bind-keys
        //========================================================================
        dnssec-validation auto;
 
        listen-on-v6 { any; };
};</pre><pre class="hljs"><code>options {
        directory <span class="hljs-string">&quot;/var/cache/bind&quot;</span>;
 
        <span class="hljs-comment">// If there is a firewall between you and nameservers you want</span>
        <span class="hljs-comment">// to talk to, you may need to fix the firewall to allow multiple</span>
        <span class="hljs-comment">// ports to talk.  See http://www.kb.cert.org/vuls/id/800113</span>
 
        <span class="hljs-comment">// If your ISP provided one or more IP addresses for stable</span>
        <span class="hljs-comment">// nameservers, you probably want to use them as forwarders.</span>
        <span class="hljs-comment">// Uncomment the following block, and insert the addresses replacing</span>
        <span class="hljs-comment">// the all-0&#x27;s placeholder.</span>
 
        forwarders {
          <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span>;
          <span class="hljs-number">8.8</span><span class="hljs-number">.4</span><span class="hljs-number">.4</span>;
         };
 
        <span class="hljs-comment">//========================================================================</span>
        <span class="hljs-comment">// If BIND logs error messages about the root key being expired,</span>
        <span class="hljs-comment">// you will need to update your keys.  See https://www.isc.org/bind-keys</span>
        <span class="hljs-comment">//========================================================================</span>
        dnssec-validation <span class="hljs-keyword">auto</span>;
 
        listen-on-v6 { any; };
};</code></pre></div>
<p>3º Comprobamos el archivo con <mark>sudo named-checkconf</mark></p>
<p>4º Reiniciamos el servicio <mark>Sudo service bind9 restart</mark></p>
<p>Comprobación del funcionamiento:</p>
<p>Con <code class="inline-code">nslookup</code> haber si resuelve <code class="inline-code">www.google.es </code> o un dominio fuera de nuestro servidor</p>
<p><img src="../../../../_resources/8c2dcb678dcc4d68a200fcd77222e743.PNG" alt="Renvio.PNG"></p>
</div></div>
					</body>
				</html>
			